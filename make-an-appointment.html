<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="assets/images/favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="assets/css/icofont.min.css" rel="stylesheet" />
    <link href="assets/css/typographt.css" rel="stylesheet" />
    <link href="assets/css/style.main.css" rel="stylesheet" />
    <title>Wave</title>
    <style>
      .newDiv {
        display: none;
      }
      .newDiv.show {
        display: block;
      }

      .newItem {
        display: none;
      }
      .newItem.show {
        display: block;
      }
    </style>
  </head>

  <body>
    <div class="py-4 header">
      <div class="containers">
        <div class="relative flex justify-between">
          <div class="header-logo">
            <a href="index.html"
              ><img src="assets/images/Union-5.svg" alt="header logo"
            /></a>
          </div>
          <div class="block md:hidden">
            <div class="menu-toggle">
              <span></span>
              <span></span>
              <span></span>
              <span></span>
            </div>
          </div>
          <ul class="items-center hidden main-menu md:flex">
            <li><a href="our-consultants.html">Our Consultants</a></li>
            <li><a href="index.html">Our companies</a></li>
            <li>
              <a
                href="make-an-appointment.html"
                class="relative button-primary"
              >
                <span>Book a consultant</span>
                <span class="button-icon">
                  <img src="assets/images/path-14113.svg" alt="button svg" />
                </span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="page-title">
      <div class="containers">
        <h1>Make an appointment</h1>
      </div>
    </div>
    <div class="appointment">
      <div class="containers">
        <div class="p-5 bg-white md:p-10 lg:p-15 rounded-2xl">
          <div
            class="p-5 border border-solid bg-secondary md:p-10 lg:p-15 rounded-2xl"
          >
            <div class="progress">
              <div class="progress-content">
                <div class="progress-item active">
                  <span>01</span>
                </div>
                <h6 class="mt-8 text-xs sm:text-sm">SELECT A DATE & TIME</h6>
              </div>
              <div class="progress-content">
                <div class="progress-item">
                  <span>02</span>
                </div>
                <h6 class="mt-8 text-xs sm:text-sm">DETAILS</h6>
              </div>
              <div class="progress-content">
                <div class="progress-item">
                  <span>03</span>
                </div>
                <h6 class="mt-8 text-xs sm:text-sm">PAYMENT</h6>
              </div>
              <div class="progress-content">
                <div class="progress-item">
                  <span>04</span>
                </div>
                <h6 class="mt-8 text-xs sm:text-sm">CONFORMATION</h6>
              </div>
            </div>
            <div class="date">
              <div class="py-14">
                <p class="mb-3 text-xs text-primary">STEP ONE</p>
                <h2 class="text-lg capitalize md:text-2xl lg:text-3xl">
                  Select A Date & Time
                </h2>
              </div>
              <div class="flex items-center justify-between mb-10">
                <i class="text-2xl icofont-long-arrow-left"></i>
                <h3 class="text-xl md:text-2xl">March 2023</h3>
                <i class="text-2xl icofont-long-arrow-right"></i>
              </div>
              <div class="calender">
                <table>
                  <thead>
                    <tr>
                      <th>MON</th>
                      <th>TUE</th>
                      <th>WED</th>
                      <th>THU</th>
                      <th>FRI</th>
                      <th>SAT</th>
                      <th>SUN</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="table-row">
                      <td class="available">28</td>
                      <td class="available">1</td>
                      <td class="available">2</td>
                      <td class="available">3</td>
                      <td class="available">4</td>
                      <td class="available">5</td>
                      <td class="available">6</td>
                      <td class="newItem">Test 1</td>
                    </tr>

                    <tr class="table-row">
                      <td class="available">7</td>
                      <td class="available">8</td>
                      <td class="available">9</td>
                      <td class="available">10</td>
                      <td class="available">11</td>
                      <td class="available">12</td>
                      <td class="available">13</td>
                      <td class="newItem">Test 2</td>
                    </tr>
                    <tr class="table-row">
                      <td>14</td>
                      <td>15</td>
                      <td>16</td>
                      <td>17</td>
                      <td>18</td>
                      <td>19</td>
                      <td>20</td>
                      <td class="newItem">Test 3</td>
                    </tr>
                    <tr class="table-row">
                      <td>21</td>
                      <td>22</td>
                      <td>23</td>
                      <td class="available">24</td>
                      <td class="available">25</td>
                      <td class="available">26</td>
                      <td class="available">27</td>
                      <td class="newItem">Test 4</td>
                    </tr>
                    <tr class="table-row">
                      <td>28</td>
                      <td>29</td>
                      <td>30</td>
                      <td class="available">1</td>
                      <td class="available">2</td>
                      <td class="available">3</td>
                      <td class="available">4</td>
                      <td class="newItem">Test 5</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="tags">
              <ul>
                <li class="available">Available</li>
                <li>Not Available</li>
              </ul>
            </div>
            <div class="flex justify-end">
              <a href="make-an-appointment-details.html" class="button-tartary"
                >Next</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="containers">
      <div class="footer">
        <div class="flex items-center justify-between">
          <a href="index.html"
            ><img
              class="h-10 w-11"
              src="assets/images/footer-logo.svg"
              alt="footer logo"
          /></a>
          <p>Copyright &#169; 2023. All Right Reserved.</p>
        </div>
      </div>
    </div>

    <script>
      const menuToggle = document.querySelector('.menu-toggle');
      const mainMenu = document.querySelector('.main-menu');
      menuToggle.addEventListener('click', function () {
        menuToggle.classList.toggle('menu-active');
        mainMenu.classList.toggle('menu-show');
      });

      let tr = document.querySelectorAll('.table-row');
      const newItem = document.querySelectorAll('.newItem');
      tr.forEach((availableDate, idx) => {
        let previousDiv = null; // Initialize previousDiv inside the loop
        const available = availableDate.querySelectorAll('.available');
        available.forEach((item) => {
          item.addEventListener('click', function () {
            hideAllNewItem();
            // console.log(tr[idx]);
            newItem[idx].classList.add('show');

            const newDiv = document.createElement('div');
            newDiv.classList.add('newDiv');
            newDiv.innerHTML = `<div class="gap-4 py-5 bg-white rounded-lg md:py-7 px-7 md:px-10 md:flex">
                <div class="w-full">
                  <p class="mb-2">Time In</p>
                  <select class="w-full p-2 mb-5 border border-solid rounded-lg bg-secondary text-light-gray1 focus:outline-none">
                    <option value="time-in">Time In</option>
                  </select>
                </div>
                <div class="w-full">
                  <p class="mb-2">Time Out</p>
                  <select class="w-full p-2 mb-5 border border-solid rounded-lg bg-secondary text-light-gray1 focus:outline-none">
                    <option value="time-out">Time Out</option>
                  </select>
                </div>
              </div>`;

            if (previousDiv && previousDiv.parentNode === availableDate) {
              // check if previousDiv is a child of current availableDate
              availableDate.removeChild(previousDiv);
            }
            const appended = availableDate.appendChild(newDiv);
            if (appended === newDiv) {
              previousDiv = newDiv;
            }
          });
        });
      });

      function hideAllNewItem() {
        newItem.forEach((content) => content.classList.remove('show'));
      }
    </script>
  </body>
</html>
